<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0059)https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
  <title>CMSC 330, Fall 2016</title>

  
  <link href="./p4a_desc_files/style.css" rel="stylesheet" type="text/css">
<style></style></head>

<body>

<table width="100%" cellspacing="0" cellpadding="8">
<tbody><tr>
<td width="15%" valign="top">
<table class="menu" cellpadding="2" cellspacing="2" border="0" width="100%">
  <tbody>
      <tr><td><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/">Home</a></td></tr>
      <tr><td><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/syllabus.shtml">Syllabus</a></td></tr>
      <tr><td><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/schedule.shtml">Schedule</a></td></tr>
      <tr><td><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects.shtml">Projects</a></td></tr>
      <tr><td><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/tests.shtml">Tests</a></td></tr>
      <tr><td><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/resources.shtml">Resources</a></td></tr>
      <tr><td><a href="https://piazza.com/umd/fall2016/cmsc330/home">Piazza</a></td></tr>
      <tr><td><a href="https://submit.cs.umd.edu/fall2016/">Submit Server</a></td></tr>
      <tr><td><a href="https://grades.cs.umd.edu/">Grades Server</a></td></tr>
  </tbody>
</table>
</td><td width="85%" valign="top">

<div class="header">
<center>
<h2>CMSC 330, Fall 2016</h2>
<h3>Organization of Programming Languages</h3>
</center>
</div>


<h1 class="title">Project 4 Part A -  Small C Parser</h1>
<center>
Due 11:59pm <s>Oct 24</s> Oct 29, 2016<br>
</center>

<h2>Introduction</h2>

<p>
  In this project, you will write a parser for SmallC, a tiny subset of
  the C programming language. As part of the project, you will write a
  parser that translates a plain text C program into an abstract
  syntax tree (AST), and a pretty print function that formats the
  code in a specific style.
  
  If you want to leran C, you can revisit the textbook from CMSC216.
</p><p>For purposes of this project, <strong>we will only test your parser with valid input</strong>.  Thus your code may do whatever you want on a bad input.  We do, however, recommend adding reasonable error handling code to your project for cases of malformed or otherwise incorrect C input, because it will make developing your project easier.  As you are testing your program, you may inadvertently create incorrect input data; substantial time may be lost in trying to debug the program, only to find a few mistyped characters in your input data are the source of the problem.  
</p><p>In Project 4 Part B, you will write an interpreter for SmallC. The interpreter executes the code represented as an AST, which is generated by the parser in this project. Imperative programming is not allowed. You can use semicolon seperated print statements. If you do not finish this project, you will not be able to do Project 4 Part B.
</p><p>If you find any error in the description or in the test files, report it to the instructor. Make sure you check the piazza announcements and errata section of the project periodically.
</p><h2>Getting Started</h2>

Download the following archive file <a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/p4a.zip">p4a.zip</a>
and extract its contents.
<p>

Along with files used to make direct submissions to the
submit server (submit.jar,
<a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/.submit">.submit</a>,
<a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/submit.rb">submit.rb</a>), you will
find the following project files:
  </p><ul>
<li>Public test input files
  <ul>
<li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/assign-exp.c">	assign-exp.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/assign1.c">	assign1.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/define1.c">	define1.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/equal.c">	equal.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/exp1.c">	exp1.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/exp2.c">	exp2.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/greater.c">	greater.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/if-else-while.c">	if-else-while.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/if.c">	if.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/ifelse.c">	ifelse.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/less.c">	less.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/main.c">	main.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/nested-if.c">	nested-if.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/nested-ifelse.c">	nested-ifelse.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/nested-while.c">	nested-while.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/print.c">	print.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/test1.c">	test1.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/test2.c">	test2.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/test3.c">	test3.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/test4.c">	test4.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/while.c">	while.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/test-assoc1.c">test-assoc1.c</a>
  </li></ul>
</li>
<li>Expected outputs for parser tests 
  <ul>
  <li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_assign-exp.out">public_parse_assign-exp.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_assign1.out">public_parse_assign1.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_define1.out">public_parse_define1.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_equal.out">public_parse_equal.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_exp1.out">public_parse_exp1.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_exp2.out">public_parse_exp2.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_greater.out">	public_parse_greater.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_if-else-while.out">public_parse_if-else-while.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_if.out">public_parse_if.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_ifelse.out">public_parse_ifelse.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_less.out">public_parse_less.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_main.out">public_parse_main.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_nested-if.out">public_parse_nested-if.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_nested-ifelse.out">public_parse_nested-ifelse.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_nested-while.out">public_parse_nested-while.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_print.out">public_parse_print.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_test1.out">public_parse_test1.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_test2.out">public_parse_test2.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_test3.out">public_parse_test3.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_test4.out">public_parse_test4.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_while.out">public_parse_while.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_parse_test-assoc1.out">public_parse_test-assoc1.out</a>
  </li></ul>
</li><li>Expected outputs for pretty print tests
<ul>
<li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_assign-exp.out">public_prettyprint_assign-exp.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_assign1.out">public_prettyprint_assign1.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_define1.out">public_prettyprint_define1.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_equal.out">public_prettyprint_equal.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_exp1.out">public_prettyprint_exp1.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_exp2.out">public_prettyprint_exp2.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_greater.out">	public_prettyprint_greater.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_if-else-while.out">public_prettyprint_if-else-while.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_if.out">public_prettyprint_if.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_ifelse.out">public_prettyprint_ifelse.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_less.out">public_prettyprint_less.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_main.out">public_prettyprint_main.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_nested-if.out">public_prettyprint_nested-if.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_nested-ifelse.out">public_prettyprint_nested-ifelse.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_nested-while.out">public_prettyprint_nested-while.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_print.out">public_prettyprint_print.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_test1.out">public_prettyprint_test1.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_test2.out">public_prettyprint_test2.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_test3.out">public_prettyprint_test3.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_test4.out">public_prettyprint_test4.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_while.out">public_prettyprint_while.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/public_prettyprint_test-assoc1.out">public_prettyprint_test-assoc1.out</a>
</li></ul>
</li><li>Utility Code
<ul>
<li> <a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/smallc.ml">smallc.ml</a> -your parser and pretty print code
</li><li> <a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/parser.ml">parser.ml</a> - uses your parser to parse smallC program. ( ocaml parser.ml main.c )
</li><li> <a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/prettyprint.ml">prettyprint.ml</a> - uses your print print to print smallC code (ocaml prettyprint.ml test1.c )
</li></ul>
</li>
<li>Test Script - <a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/test_all.rb">test_all.rb</a>  </li>
<li>Testing instructions:
  
    <a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/README.txt">README</a>
  
  <ul>
  </ul>
</li>
  </ul>
  <h2>Part 1:  Parsing SmallC</h2>

<p>
Put your solution to this part in the to do section of  file <tt>smallc.ml</tt>.

</p><p>
Your next task is to write a <i>parser</i> for C program, 
which in this case will be
a function that turns a string into a C abstract syntax tree
(AST).  Your parser will take as input a sequence of
<i>tokens</i>, produced by a <i>scanner</i>, which are the terminals
of the C grammar, and output the C AST.

</p><p>
We've supplied you with a function
<tt>tokenize : string -&gt; token list</tt> that acts as a scanner/lexer,
converting the string input into a list of tokens,
represented by the following data type:

</p><pre>type token =<br> | Tok_Id of string<br> | Tok_Num of int<br> | Tok_String of string<br> | Tok_Assign<br> | Tok_Greater<br> | Tok_Less<br> | Tok_Equal<br> | Tok_LParen<br> | Tok_RParen<br> | Tok_Semi<br> | Tok_Main<br> | Tok_LBrace<br> | Tok_RBrace<br> | Tok_Int <br> | Tok_Sum<br> | Tok_Mult<br> | Tok_Pow<br> | Tok_Print<br> | Tok_If<br> | Tok_Else<br> | Tok_While<br> | Tok_END
</pre>

<p>For example, </p>
<pre>int main(){
    int a;
    a = 10;
    int b;
    b = 1;
    int c;
    c = a + b;
    printf(c);
}</pre>
<p>becomes a string "int main(){int a;  a= 10;  int b;  b = 1;  int c;  c = a+b;  printf(c);}". </p>
<p>when called as </p>
<p><tt>tokenize "int main(){int a;  a= 10;  int b;  b = 1;  int c;  c = a+b;  printf(c);}"</tt>, </p>
<p>the return value is</p>
<tt>[Tok_Int; Tok_Main; Tok_LParen; Tok_RParen; Tok_LBrace; Tok_Int;<br>
Tok_Id "a"; Tok_Semi; Tok_Id "a"; Tok_Assign; Tok_Num 10; Tok_Semi;<br>
Tok_Int; Tok_Id "b"; Tok_Semi; Tok_Id "b"; Tok_Assign; Tok_Num 1;<br>
Tok_Semi; Tok_Int; Tok_Id "c"; Tok_Semi; Tok_Id "c"; Tok_Assign;<br>
Tok_Id "a"; Tok_Sum; Tok_Id "b"; Tok_Semi; Tok_Print; Tok_LParen;<br>
Tok_Id "c"; Tok_RParen; Tok_Semi; Tok_RBrace; Tok_END]</tt>
<p>
  <b>What to do</b>: You write a function <tt>parse_Function : token list -&gt; ast * token list </tt>that takes a list of tokens as input (returned from <tt>tokenize</tt>) and returns an AST. Once you have done this, you
  can run it using the code in the file <a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/parser.ml">parser.ml</a>.
  
You are not allowed to use parser generator tools.
</p><p>You should use the idea of a <i>recursive descent parser</i>, as we
discussed in class.  Thus we suggest you write  a function:
<tt>parse_Function</tt>, which parses the non-terminal <i>Function</i> representing
a single C function.

<tt>parse_Function</tt> calls other fucntions such as <tt>parse_methodBody</tt>, <tt>parse_Statement</tt> to parse the body of the function. The
context free grammar for smallC is given next, followed by the OCaml type
definition <tt>ast</tt> of SmallC abstract syntax trees.

</p><h3>SmallC Grammar</h3>

<p>
The grammar for C you need to support is as follows
</p><ul>
<pre>  <strong>basicType</strong>-&gt; 'int'
  <strong>mainMethod</strong>-&gt; basicType 'main' '(' ')' '{' methodBody '}'
  <strong>methodBody</strong>-&gt;(localDeclaration | statement)*
  <strong>localDeclaration</strong>-&gt;basicType ID ';'
  <strong>statement</strong>-&gt;
    whileStatement
    |ifStatement
    |assignStatement
    |printStatement
  
  <strong>assignStatement</strong>-&gt;ID '=' exp ';'
  <strong>ifStatement</strong> -&gt; 'if' '(' exp ')'  '{' ( statement)* '}'  ( 'else' '{'( statement)* '}')?
  <strong>whileStatement</strong> -&gt; 'while''(' exp ')' '{'(statement )*'}'
  <strong>printStatement</strong>-&gt;'printf' '(' exp ')' ';'
  <strong>exp</strong> -&gt; additiveExp (('&gt;'  | '&lt;'  | '==' ) additiveExp )*
  <strong>additiveExp</strong> -&gt; multiplicativeExp ('+' multiplicativeExp)*
  <strong>multiplicativeExp</strong>-&gt; powerExp ( '*' powerExp  )*
  <strong>powerExp</strong>-&gt;primaryExp ( '^' primaryExp) *
  <strong>primaryExp</strong>-&gt;'(' exp ')' | ID | INITLIT
  <strong>ID</strong>-&gt;( 'a'..'z' | 'A'..'Z') ( 'a'..'z' | 'A'..'Z' | '0'..'9')*
  <strong>INTLIT</strong>-&gt; ('0' |	('1'..'9') ('0'..'9')* )<br>  <strong>WS</strong>-&gt; (' '|'\r'|'\t'|'\n') 
</pre>

where

<ul>
<li><b>basicType </b>is the basic data type in SmallC. That means SmallC only supports one data type, int. SmallC does not suppoer pointers, arrays, or strings.
</li><li><strong>mainMethod</strong> is the main function in SmallC. SmallC has only one function called "main". Function "main" returns "int" and takes no arguments. Because SmallC does not support return statement, "main" does not return any value. SmallC does not support preprocessing directive ‘#include’, #define, or global variables. All variables are declared locally inside the main function. SmallC programs always start with "int main(){..."
<p><img src="./p4a_desc_files/mainMethod.jpg" width="759" height="50" alt=""></p>
</li><li><strong>methodBody</strong> is the body of the main function. 
It includes zero or more local variable declarations and statements. 
<p><img src="./p4a_desc_files/methodBody.jpg" width="394" height="107" alt=""></p>
</li><li><strong>localDeclaration</strong> declares  the identifiers (variables). All variables are int type. Variables must be declared before they can be used and same variable cannot be declared twice. SmallC interpreter throws exception either violation. Checking if a variable has been declared is for Part B of the project. Ignore it in Part A.
  <p><img src="./p4a_desc_files/localDeclaration.jpg" width="465" height="50" alt=""></p>
</li><li><strong>statement</strong> produces all available statements in SmallC. SmallC only has assignment statement, if statement, and while statement. 

<p><img src="./p4a_desc_files/statement.jpg" width="343" height="114" alt=""></p>

</li><li><strong>assignStatement</strong> assigns the value of the right hand side expression to the left hand side identifier. All expressions have the same data type int.
<p><img src="./p4a_desc_files/assignment.jpg" width="494" height="50" alt=""></p>
</li><li><strong>ifStatement</strong> is the only brach statement SmallC supports. "Else" branch is optional. The conditional expression return 1 for true, and -1 for false. SmallC supports nested if/else statements.
<p><img src="./p4a_desc_files/ifstatement.jpg" width="1207" height="88" alt=""></p>
</li><li><strong>whileStatement</strong> is the repetition statement in SmallC.  The conditional expression return 1 for true, and -1 for false. While statement body has 0 or more statements. SmallC supports nested while statements.
<p><img src="./p4a_desc_files/whilestatement.jpg" width="820" height="75" alt=""></p>
</li><li><strong>printStatement</strong> is the statement to print the value of an expression. "printf("%d\n", exp)" is equivalent to "printf(exp)" in SmallC.
<p><img src="./p4a_desc_files/printStatement.jpg" width="580" height="50" alt=""></p></li>
<li><strong>exp </strong>is the expression in SmallC. SmallC expressions can only have +,*, ^ (power),  parenthesis "()" operations, and logical operations Greater "&gt;", Less "&lt;", and Equal "==". (Clarification: in C, "^" is xor, not power operator. We use "^" as power in SmallC). The order of precedence from high to low is (), ^, *, +. Logical operations all have same precedence. For example: a=10; b=2; a+b*3^3 evalues to 64. Operators +,*, ^,&gt;,&lt;,== are <b>all right associative</b>. For example: "2 + 3 + 4" is parsed as "Sum(Num 2,Sum(Num 3,Num 4))", and "5 &gt; 6&gt;1" is parsed as "Greater(Num 5,Greater(Num 6,Num 1))".
  <p><img src="./p4a_desc_files/exp.jpg" width="644" height="75" alt=""></p>
</li><li><strong>additiveExp</strong>, <strong>multiplicativeExp, powerExp, primaryExp </strong>represent the precedence of +,*,^ from low to high.
<p><img src="./p4a_desc_files/additive.jpg" width="692" height="75" alt=""></p>
<p><img src="./p4a_desc_files/multiplication.jpg" width="577" height="75" alt=""></p>
<p><img src="./p4a_desc_files/power.jpg" width="529" height="75" alt=""></p>
<p><img src="./p4a_desc_files/primary.jpg" width="414" height="82" alt=""></p>
  </li><li><strong>ID</strong> is the identifier. Identifiers may contain upper- and
    lower-case letters, digits, but starts with a letter. 
  <p><img src="./p4a_desc_files/id.jpg" width="708" height="75" alt=""></p>
  </li><li>INITLIT is the integer number literals. 
  <p><img src="./p4a_desc_files/initlit.jpg" width="414" height="107" alt="">    
  </p></li><li>Ws is the white space. 
    
    <p><img src="./p4a_desc_files/ws.jpg" width="366" height="50" alt=""></p>
  </li></ul>

<h3>SmallC AST</h3>
<p>
  For this project, a SmallC is represented using
  an AST (abstract syntax tree) defined using the following 
  OCaml data type:
 </p> 
<pre>type ast =<br>  | Id of string   (*ID "a" *)<br>  | Num of int     (* NUm 10 *)<br>  | Define of data_type * ast  (* data type * ID *) <br>  | Assign of ast * ast        (* ID * expression *)<br>  | List of ast list<br>  | Fun of data_type * string * ast * ast   (* return type * function name * argument list * statement list *)<br>  | Sum of ast * ast       (*   exp * exp *)<br>  | Greater of ast * ast   (*   exp * exp *)<br>  | Equal of ast * ast     (*   exp * exp *)<br>  | Less of ast * ast      (*   exp * exp *)<br>  | Mult of ast * ast     (*   exp * exp *)<br>  | Pow of  ast * ast     (*   exp * exp *)<br>  | Print of ast          (* print (expression ) *)<br>  | If of ast * ast * ast	(* cond * if brach * else branch *)<br>  | While of ast * ast       (* cond * while body *)
  | Paren of ast<br>
</pre>
<h2>Part 2: SmallC Pretty Print</h2>
<p>In this section, you will impelment pretty_print, a function that prints the SmallC source code in indented format. Pretty print uses following style:</p>
<li>Function return type and function name, arguments are in same line. Statements within the braces are indented to the next level, 4 "_" (underscores) further from the margin. </li>
<li>Opening brace associated with a control statement is in the same line. Closing brace is indented to the same level as the control statement. Statements within the braces are indented to the next level.</li>
<li>One space before and after &gt;,&lt;,==,+,*,^,=.</li>
<li>No space before or after "(" and ")".</li>
<li>No empty lines</li>
<li>No empty line after the final "}"</li>
<li>For example: </li>
<pre>int 
main(){int x;int y;
while(x == y) {x=x+1;



                             a = 100;}

                   if(a == b){
		     printf(20);
                   }else{
                   printf(10);
}
}

</pre>
pretty print output of above code is:
<pre>int main(){
____int x;
____int y;
____while(x == y){
________x = x + 1;
________a = 100;
____}
____if(a == b){
________printf(20);
____}else{
________printf(10);
____}
} [print a single "\n" here.]
</pre>
</ul>
<h2>Testing and Submission</h2>

We will test your project by calling your parsing and evaluation
functions directly, so be sure to give those functions the types we
expect, as given above.  You can work on the interpreter and parser in
any order, we will test each part independently.

<p> You may assume that all input test cases are syntactically
correct.  If the input SmallC code is not legal you may perform any
action (e.g., exit, throw an exception).

</p><p>All your code should be in one fils, smallc.ml.
You can submit your project in two ways:

</p><ul>
<li>
Submit your  smallc.ml files directly to the 
<a href="http://submit.cs.umd.edu/">submit server</a>. 

<ul>
<li>
You can submit multiple files by putting the files in a .zip archive first.
On Windows you can select the two files, then right click to
select the "Send to-&gt;Compressed (zipped) Folder" option
to create a .zip archive.
Once your files are in a single zip archive,
bring up the upload dialog box by clicking on the 
submit link in the column "web submission".
Select your archive file using the "Browse" button, 
then press the "Submit project!" button.  

<p>
</p></li><li>
The submit server now allows multiple files (from 
the same directory) to be selected.  
Bring up the upload dialog box by clicking on the 
submit link in the column "web submission".
Browse to the directory containing your project
files, then click on both SmallCTest.txt and SmallC.ml.
Now press the "Submit project!" button.  
</li></ul>

<p>
<img src="./p4a_desc_files/submit1.jpg">
</p><p>


</p><p>
<img src="./p4a_desc_files/submit2.jpg">
</p><p>


</p><p>
</p>

</li><li>
You may also submit directly by executing a Java program on a computer
with Java and network access.  Use the submit.jar file 
from the archive <a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4a/p4a.zip">p4a.zip</a>, 
To submit, go to the directory containing your project, then either
execute submit.rb by typing:
 
<p></p>
<center>
 
<tt>
ruby submit.rb
</tt>
</center>
<p>
 
or use the java jar directly using the following command:
</p><center>

<tt>
java -jar submit.jar
</tt>
</center>
<p>

You will be asked to enter your class account and password, then
all files in the directory (and its subdirectories) will be
put in a jar file and submitted to the submit server.  
If your submission is successful you will see the message:
</p><p> 

</p><center>
<tt>
Successful submission #<submission_number> received for project 4
</submission_number></tt>
</center>
<p>

</p></li></ul>

<h2>Academic Integrity</h2>

<p>
The Campus Senate has adopted a policy asking students to include the
following statement on each assignment in every course: "I pledge on
my honor that I have not given or received any unauthorized assistance
on this assignment."  Consequently your program is requested to
contain this pledge in a comment near the top.

</p><p>
Please <b>carefully read</b> the academic honesty section of the
course syllabus.  <b>Any evidence</b> of impermissible cooperation on
projects, use of disallowed materials or resources, or unauthorized
use of computer accounts, <b>will be submitted</b> to the Student
Honor Council, which could result in an XF for the course, or
suspension or expulsion from the University.  Be sure you understand
what you are and what you are not permitted to do in regards to
academic integrity when it comes to project assignments.  These
policies apply to all students, and the Student Honor Council does not
consider lack of knowledge of the policies to be a defense for
violating them.  Full information is found in the course
syllabus---please review it at this time.


</p><h2>Copyright Notice</h2>
<p>This course project is copyright of Dr. Anwar Mamat. ©Anwar Mamat  [2016]. All rights reserved. Any redistribution or reproduction of part  or all of the contents in any form is prohibited without the express  consent of the author.</p>
<p>

</p></td>
</tr></tbody></table>

<p style="text-align: right;"><a href="https://www.umd.edu/web-accessibility" title="UMD Web Accessibility">Web Accessibility</a></p>


<span style="border-radius: 3px; text-indent: 20px; width: auto; padding: 0px 4px 0px 0px; text-align: center; font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 11px; line-height: 20px; font-family: &quot;Helvetica Neue&quot;, Helvetica, sans-serif; color: rgb(255, 255, 255); background: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzBweCIgd2lkdGg9IjMwcHgiIHZpZXdCb3g9Ii0xIC0xIDMxIDMxIj48Zz48cGF0aCBkPSJNMjkuNDQ5LDE0LjY2MiBDMjkuNDQ5LDIyLjcyMiAyMi44NjgsMjkuMjU2IDE0Ljc1LDI5LjI1NiBDNi42MzIsMjkuMjU2IDAuMDUxLDIyLjcyMiAwLjA1MSwxNC42NjIgQzAuMDUxLDYuNjAxIDYuNjMyLDAuMDY3IDE0Ljc1LDAuMDY3IEMyMi44NjgsMC4wNjcgMjkuNDQ5LDYuNjAxIDI5LjQ0OSwxNC42NjIiIGZpbGw9IiNmZmYiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxIj48L3BhdGg+PHBhdGggZD0iTTE0LjczMywxLjY4NiBDNy41MTYsMS42ODYgMS42NjUsNy40OTUgMS42NjUsMTQuNjYyIEMxLjY2NSwyMC4xNTkgNS4xMDksMjQuODU0IDkuOTcsMjYuNzQ0IEM5Ljg1NiwyNS43MTggOS43NTMsMjQuMTQzIDEwLjAxNiwyMy4wMjIgQzEwLjI1MywyMi4wMSAxMS41NDgsMTYuNTcyIDExLjU0OCwxNi41NzIgQzExLjU0OCwxNi41NzIgMTEuMTU3LDE1Ljc5NSAxMS4xNTcsMTQuNjQ2IEMxMS4xNTcsMTIuODQyIDEyLjIxMSwxMS40OTUgMTMuNTIyLDExLjQ5NSBDMTQuNjM3LDExLjQ5NSAxNS4xNzUsMTIuMzI2IDE1LjE3NSwxMy4zMjMgQzE1LjE3NSwxNC40MzYgMTQuNDYyLDE2LjEgMTQuMDkzLDE3LjY0MyBDMTMuNzg1LDE4LjkzNSAxNC43NDUsMTkuOTg4IDE2LjAyOCwxOS45ODggQzE4LjM1MSwxOS45ODggMjAuMTM2LDE3LjU1NiAyMC4xMzYsMTQuMDQ2IEMyMC4xMzYsMTAuOTM5IDE3Ljg4OCw4Ljc2NyAxNC42NzgsOC43NjcgQzEwLjk1OSw4Ljc2NyA4Ljc3NywxMS41MzYgOC43NzcsMTQuMzk4IEM4Ljc3NywxNS41MTMgOS4yMSwxNi43MDkgOS43NDksMTcuMzU5IEM5Ljg1NiwxNy40ODggOS44NzIsMTcuNiA5Ljg0LDE3LjczMSBDOS43NDEsMTguMTQxIDkuNTIsMTkuMDIzIDkuNDc3LDE5LjIwMyBDOS40MiwxOS40NCA5LjI4OCwxOS40OTEgOS4wNCwxOS4zNzYgQzcuNDA4LDE4LjYyMiA2LjM4NywxNi4yNTIgNi4zODcsMTQuMzQ5IEM2LjM4NywxMC4yNTYgOS4zODMsNi40OTcgMTUuMDIyLDYuNDk3IEMxOS41NTUsNi40OTcgMjMuMDc4LDkuNzA1IDIzLjA3OCwxMy45OTEgQzIzLjA3OCwxOC40NjMgMjAuMjM5LDIyLjA2MiAxNi4yOTcsMjIuMDYyIEMxNC45NzMsMjIuMDYyIDEzLjcyOCwyMS4zNzkgMTMuMzAyLDIwLjU3MiBDMTMuMzAyLDIwLjU3MiAxMi42NDcsMjMuMDUgMTIuNDg4LDIzLjY1NyBDMTIuMTkzLDI0Ljc4NCAxMS4zOTYsMjYuMTk2IDEwLjg2MywyNy4wNTggQzEyLjA4NiwyNy40MzQgMTMuMzg2LDI3LjYzNyAxNC43MzMsMjcuNjM3IEMyMS45NSwyNy42MzcgMjcuODAxLDIxLjgyOCAyNy44MDEsMTQuNjYyIEMyNy44MDEsNy40OTUgMjEuOTUsMS42ODYgMTQuNzMzLDEuNjg2IiBmaWxsPSIjYmQwODFjIj48L3BhdGg+PC9nPjwvc3ZnPg==&quot;) 3px 50% / 14px 14px no-repeat rgb(189, 8, 28); position: absolute; opacity: 1; z-index: 8675309; display: none; cursor: pointer; border: none; -webkit-font-smoothing: antialiased;">Save</span><span style="width: 24px; height: 24px; background: url(&quot;data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pjxzdmcgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxtYXNrIGlkPSJtIj48cmVjdCBmaWxsPSIjZmZmIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHJ4PSI2IiByeT0iNiIvPjxyZWN0IGZpbGw9IiMwMDAiIHg9IjUiIHk9IjUiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgcng9IjEiIHJ5PSIxIi8+PHJlY3QgZmlsbD0iIzAwMCIgeD0iMTAiIHk9IjAiIHdpZHRoPSI0IiBoZWlnaHQ9IjI0Ii8+PHJlY3QgZmlsbD0iIzAwMCIgeD0iMCIgeT0iMTAiIHdpZHRoPSIyNCIgaGVpZ2h0PSI0Ii8+PC9tYXNrPjwvZGVmcz48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9IiNmZmYiIG1hc2s9InVybCgjbSkiLz48L3N2Zz4=&quot;) 50% 50% / 14px 14px no-repeat rgba(0, 0, 0, 0.4); position: absolute; opacity: 1; z-index: 8675309; display: none; cursor: pointer; border: none; border-radius: 12px;"></span></body></html>