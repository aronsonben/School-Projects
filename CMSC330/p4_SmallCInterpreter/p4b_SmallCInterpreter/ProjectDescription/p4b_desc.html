<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0059)https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
  <title>CMSC 330, Fall 2016</title>

  
  <link href="./p4b_desc_files/style.css" rel="stylesheet" type="text/css">
<style></style></head>

<body>

<table width="100%" cellspacing="0" cellpadding="8">
<tbody><tr>
<td width="15%" valign="top">
<table class="menu" cellpadding="2" cellspacing="2" border="0" width="100%">
  <tbody>
      <tr><td><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/">Home</a></td></tr>
      <tr><td><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/syllabus.shtml">Syllabus</a></td></tr>
      <tr><td><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/schedule.shtml">Schedule</a></td></tr>
      <tr><td><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects.shtml">Projects</a></td></tr>
      <tr><td><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/tests.shtml">Tests</a></td></tr>
      <tr><td><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/resources.shtml">Resources</a></td></tr>
      <tr><td><a href="https://piazza.com/umd/Summer2016/cmsc330/home">Piazza</a></td></tr>
      <tr><td><a href="https://submit.cs.umd.edu/Summer2016/">Submit Server</a></td></tr>
      <tr><td><a href="https://grades.cs.umd.edu/">Grades Server</a></td></tr>
  </tbody>
</table>
</td><td width="85%" valign="top">

<div class="header">
<center>
<h2>CMSC 330, Fall 2016</h2>
<h3>Organization of Programming Languages</h3>
</center>
</div>


<h1 class="title">Project 4 Part B -  Small C Interpreter</h1>
<center>
Due 11:59pm Nov. 7, 2016

</center>
<h2>Introduction</h2>

<p>
In project 4 Part A, you parsed SmallC code. In this part, you will write an interpreter for SmallC. Your interpreter can execute the SmallC code represented as an AST, which is generated by the parser in part A.
</p><p>This is a new project. If you find any error in the description or in the test files, report it to the instructor. Make sure you check the piazza announcements and errata section of the project periodically.
</p><h2>Getting Started</h2>

Download the following archive file <a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/p4b.zip">p4b.zip</a>
and extract its contents.
<p>

Along with files used to make direct submissions to the
submit server (submit.jar,
<a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/.submit">.submit</a>,
<a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/submit.rb">submit.rb</a>), you will
find the following project files:
  </p><ul>
<li>Public test input files
  <ul>
<li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/assign-exp.c">	assign-exp.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/assign1.c">	assign1.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/define1.c">	define1.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/equal.c">	equal.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/exp1.c">	exp1.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/exp2.c">	exp2.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/greater.c">	greater.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/if-else-while.c">	if-else-while.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/if.c">	if.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/ifelse.c">	ifelse.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/less.c">	less.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/main.c">	main.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/nested-if.c">	nested-if.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/nested-ifelse.c">	nested-ifelse.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/nested-while.c">	nested-while.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/print.c">	print.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/test1.c">	test1.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/test2.c">	test2.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/test3.c">	test3.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/test4.c">	test4.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/while.c">	while.c	</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/test-assoc1.c">test-assoc1.c</a>
  </li></ul>
</li>
<li>Expected outputs for interpreter tests 
  <ul>
  <li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_assign-exp.out">public_eval_assign-exp.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_assign1.out">public_eval_assign1.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_define1.out">public_eval_define1.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_equal.out">public_eval_equal.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_exp1.out">public_eval_exp1.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_exp2.out">public_eval_exp2.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_greater.out">	public_eval_greater.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_if-else-while.out">public_eval_if-else-while.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_if.out">public_eval_if.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_ifelse.out">public_eval_ifelse.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_less.out">public_eval_less.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_main.out">public_eval_main.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_nested-if.out">public_eval_nested-if.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_nested-ifelse.out">public_eval_nested-ifelse.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_nested-while.out">public_eval_nested-while.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_print.out">public_eval_print.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_test1.out">public_eval_test1.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_test2.out">public_eval_test2.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_test3.out">public_eval_test3.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_test4.out">public_eval_test4.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_while.out">public_eval_while.out</a>
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/public_eval_test-assoc1.out">public_eval_test-assoc1.out</a>
  </li></ul>
</li><li>Utility Code
<ul>
<li> <a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/smallc.ml">smallc.ml</a> - your parser in project 4 part A.
</li><li><a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/evaluate.ml">evaluate.ml</a> - your interpreter 
</li><li> <a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/eval.ml">eval.ml</a> - uses your interpreter to execute smallC program. ( ocaml eval.ml main.c )
</li></ul>
</li>
<li>Test Script - <a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/test_all.rb">test_all.rb</a></li>
<li>Testing instructions: <a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/README.txt">README</a></li>
<li>
  <ul>
  </ul>
</li>
  </ul>
  <h2>SmallC Interpreter   </h2>
  <p>
    Put your solution to this part in the to do section of  file <tt>evalate.ml</tt>.
    
</p><p>
Your  task is to write an <i>interpreter</i> for SmallC program, 
which in this case will be
a function that evaluates a SmallC abstract syntax tree
(AST).  
</p><p> <strong>What you will do</strong>: You will write a function eval that, given an <em>environment</em> and an AST, executes the SmallC function corresponding to that AST in the given environment.  The type of eval is env -&gt; ast -&gt;env, where the first argument env is an environment, the second is the AST, and the result is an environment. The environment can be (string * value) list or (string, value_type) Hashtbl. It holds all defined variables and their values. You can use OCaml HashTbl module. When you implement your interpreter:
</p><ul>
  <li>Variables must be defined and initialized before they are used. Your interpreter throws exception when a variables is used before it is defined and initialized. You can do this by looking up the variable from your environment.</li>
  <li>A variable cannot be defined twice. Your interpreter throws exception if a variable is defined second time. You can do this by checking if a variable exists in your environment.</li>
  <li>Only printf statement produces output. "printf(x)" is equivalent to "printf("%d\n",x)" in C. Any SmallC code with no printf does not produce output. </li>
</ul>
<p>
  <strong>Note</strong> that what you will implement for this part corresponds very closely to the <a href="http://www.cs.umd.edu/class/fall2016/cmsc330/lectures/14-semantics.pdf">operational semantics for OCaml-like programs</a> give in lecture, so that may serve as a good reference (and this project may serve as a good way to understand that lecture better). 
</p><p>For example, 
</p><pre>int main(){
    int a;
    a = 10;
    int b;
    b = 1;
    int c;
    c = a + b;
    printf(c);
}</pre>
<p>output is </p>
<p>11</p>
<h2>Testing and Submission</h2>

We will test your project by calling your parsing and evaluation
functions directly, so be sure to give those functions the types we
expect, as given above.  You can work on the interpreter and parser in
any order, we will test each part independently.
<p>All your code for this project should be in one file, evaluate.ml.
You also have to iclude the smallc.ml from your project 4A. Solution must include eval.ml, smallc.ml, and evaluate.ml. You can submit your project in two ways:

</p><ul>
<li>
Submit your  smallc.ml and evaluate.ml files directly to the 
<a href="http://submit.cs.umd.edu/">submit server</a>. 

<ul>
<li>
You can submit multiple files by putting the files in a .zip archive first.
On Windows you can select the two files, then right click to
select the "Send to-&gt;Compressed (zipped) Folder" option
to create a .zip archive.
Once your files are in a single zip archive,
bring up the upload dialog box by clicking on the 
submit link in the column "web submission".
Select your archive file using the "Browse" button, 
then press the "Submit project!" button.  

<p>
</p></li><li>
The submit server now allows multiple files (from 
the same directory) to be selected.  
Bring up the upload dialog box by clicking on the 
submit link in the column "web submission".
Browse to the directory containing your project
files, then click on both SmallCTest.txt and SmallC.ml.
Now press the "Submit project!" button.  
</li></ul>

<p>
<img src="./p4b_desc_files/submit1.jpg">
</p><p>


</p><p>
<img src="./p4b_desc_files/submit2.jpg">
</p><p>


</p><p>
</p>

</li><li>
You may also submit directly by executing a Java program on a computer
with Java and network access.  Use the submit.jar file 
from the archive <a href="https://www.cs.umd.edu/class/fall2016/cmsc330/projects/p4b/p4b.zip">p4b.zip</a>, 
To submit, go to the directory containing your project, then either
execute submit.rb by typing:
 
<p></p>
<center>
 
<tt>
ruby submit.rb
</tt>
</center>
<p>
 
or use the java jar directly using the following command:
</p><center>

<tt>
java -jar submit.jar
</tt>
</center>
<p>

You will be asked to enter your class account and password, then
all files in the directory (and its subdirectories) will be
put in a jar file and submitted to the submit server.  
If your submission is successful you will see the message:
</p><p> 

</p><center>
<tt>
Successful submission #<submission_number> received for project 4
</submission_number></tt>
</center>
<p>

</p></li></ul>

<h2>Academic Integrity</h2>

<p>
The Campus Senate has adopted a policy asking students to include the
following statement on each assignment in every course: "I pledge on
my honor that I have not given or received any unauthorized assistance
on this assignment."  Consequently your program is requested to
contain this pledge in a comment near the top.

</p><p>
Please <b>carefully read</b> the academic honesty section of the
course syllabus.  <b>Any evidence</b> of impermissible cooperation on
projects, use of disallowed materials or resources, or unauthorized
use of computer accounts, <b>will be submitted</b> to the Student
Honor Council, which could result in an XF for the course, or
suspension or expulsion from the University.  Be sure you understand
what you are and what you are not permitted to do in regards to
academic integrity when it comes to project assignments.  These
policies apply to all students, and the Student Honor Council does not
consider lack of knowledge of the policies to be a defense for
violating them.  Full information is found in the course
syllabus---please review it at this time.


</p><h2>Copyright Notice</h2>
<p>This course project is copyright of Dr. Anwar Mamat. ©Anwar Mamat  [2016]. All rights reserved. Any redistribution or reproduction of part  or all of the contents in any form is prohibited without the express  consent of the author.</p>
<p>

</p></td>
</tr></tbody></table>

<p style="text-align: right;"><a href="https://www.umd.edu/web-accessibility" title="UMD Web Accessibility">Web Accessibility</a></p>


<span style="border-radius: 3px; text-indent: 20px; width: auto; padding: 0px 4px 0px 0px; text-align: center; font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 11px; line-height: 20px; font-family: &quot;Helvetica Neue&quot;, Helvetica, sans-serif; color: rgb(255, 255, 255); background: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzBweCIgd2lkdGg9IjMwcHgiIHZpZXdCb3g9Ii0xIC0xIDMxIDMxIj48Zz48cGF0aCBkPSJNMjkuNDQ5LDE0LjY2MiBDMjkuNDQ5LDIyLjcyMiAyMi44NjgsMjkuMjU2IDE0Ljc1LDI5LjI1NiBDNi42MzIsMjkuMjU2IDAuMDUxLDIyLjcyMiAwLjA1MSwxNC42NjIgQzAuMDUxLDYuNjAxIDYuNjMyLDAuMDY3IDE0Ljc1LDAuMDY3IEMyMi44NjgsMC4wNjcgMjkuNDQ5LDYuNjAxIDI5LjQ0OSwxNC42NjIiIGZpbGw9IiNmZmYiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxIj48L3BhdGg+PHBhdGggZD0iTTE0LjczMywxLjY4NiBDNy41MTYsMS42ODYgMS42NjUsNy40OTUgMS42NjUsMTQuNjYyIEMxLjY2NSwyMC4xNTkgNS4xMDksMjQuODU0IDkuOTcsMjYuNzQ0IEM5Ljg1NiwyNS43MTggOS43NTMsMjQuMTQzIDEwLjAxNiwyMy4wMjIgQzEwLjI1MywyMi4wMSAxMS41NDgsMTYuNTcyIDExLjU0OCwxNi41NzIgQzExLjU0OCwxNi41NzIgMTEuMTU3LDE1Ljc5NSAxMS4xNTcsMTQuNjQ2IEMxMS4xNTcsMTIuODQyIDEyLjIxMSwxMS40OTUgMTMuNTIyLDExLjQ5NSBDMTQuNjM3LDExLjQ5NSAxNS4xNzUsMTIuMzI2IDE1LjE3NSwxMy4zMjMgQzE1LjE3NSwxNC40MzYgMTQuNDYyLDE2LjEgMTQuMDkzLDE3LjY0MyBDMTMuNzg1LDE4LjkzNSAxNC43NDUsMTkuOTg4IDE2LjAyOCwxOS45ODggQzE4LjM1MSwxOS45ODggMjAuMTM2LDE3LjU1NiAyMC4xMzYsMTQuMDQ2IEMyMC4xMzYsMTAuOTM5IDE3Ljg4OCw4Ljc2NyAxNC42NzgsOC43NjcgQzEwLjk1OSw4Ljc2NyA4Ljc3NywxMS41MzYgOC43NzcsMTQuMzk4IEM4Ljc3NywxNS41MTMgOS4yMSwxNi43MDkgOS43NDksMTcuMzU5IEM5Ljg1NiwxNy40ODggOS44NzIsMTcuNiA5Ljg0LDE3LjczMSBDOS43NDEsMTguMTQxIDkuNTIsMTkuMDIzIDkuNDc3LDE5LjIwMyBDOS40MiwxOS40NCA5LjI4OCwxOS40OTEgOS4wNCwxOS4zNzYgQzcuNDA4LDE4LjYyMiA2LjM4NywxNi4yNTIgNi4zODcsMTQuMzQ5IEM2LjM4NywxMC4yNTYgOS4zODMsNi40OTcgMTUuMDIyLDYuNDk3IEMxOS41NTUsNi40OTcgMjMuMDc4LDkuNzA1IDIzLjA3OCwxMy45OTEgQzIzLjA3OCwxOC40NjMgMjAuMjM5LDIyLjA2MiAxNi4yOTcsMjIuMDYyIEMxNC45NzMsMjIuMDYyIDEzLjcyOCwyMS4zNzkgMTMuMzAyLDIwLjU3MiBDMTMuMzAyLDIwLjU3MiAxMi42NDcsMjMuMDUgMTIuNDg4LDIzLjY1NyBDMTIuMTkzLDI0Ljc4NCAxMS4zOTYsMjYuMTk2IDEwLjg2MywyNy4wNTggQzEyLjA4NiwyNy40MzQgMTMuMzg2LDI3LjYzNyAxNC43MzMsMjcuNjM3IEMyMS45NSwyNy42MzcgMjcuODAxLDIxLjgyOCAyNy44MDEsMTQuNjYyIEMyNy44MDEsNy40OTUgMjEuOTUsMS42ODYgMTQuNzMzLDEuNjg2IiBmaWxsPSIjYmQwODFjIj48L3BhdGg+PC9nPjwvc3ZnPg==&quot;) 3px 50% / 14px 14px no-repeat rgb(189, 8, 28); position: absolute; opacity: 1; z-index: 8675309; display: none; cursor: pointer; border: none; -webkit-font-smoothing: antialiased;">Save</span><span style="width: 24px; height: 24px; background: url(&quot;data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pjxzdmcgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxtYXNrIGlkPSJtIj48cmVjdCBmaWxsPSIjZmZmIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHJ4PSI2IiByeT0iNiIvPjxyZWN0IGZpbGw9IiMwMDAiIHg9IjUiIHk9IjUiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgcng9IjEiIHJ5PSIxIi8+PHJlY3QgZmlsbD0iIzAwMCIgeD0iMTAiIHk9IjAiIHdpZHRoPSI0IiBoZWlnaHQ9IjI0Ii8+PHJlY3QgZmlsbD0iIzAwMCIgeD0iMCIgeT0iMTAiIHdpZHRoPSIyNCIgaGVpZ2h0PSI0Ii8+PC9tYXNrPjwvZGVmcz48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9IiNmZmYiIG1hc2s9InVybCgjbSkiLz48L3N2Zz4=&quot;) 50% 50% / 14px 14px no-repeat rgba(0, 0, 0, 0.4); position: absolute; opacity: 1; z-index: 8675309; display: none; cursor: pointer; border: none; border-radius: 12px;"></span></body></html>